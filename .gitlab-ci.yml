# This file is generated by GitLab CI
Praat 5.4.22:
  script:
  # Clean workspace
  - "rm -rf ~/.praat-dir/plugin{utils,testsimple}"
  - "rm -rf ../plugin_{utils,testsimple}"
  # Clone all dependencies
  - "git clone https://gitlab.com/cpran/plugin_testsimple.git ../plugin_testsimple"
  - "git clone https://gitlab.com/cpran/plugin_utils.git ../plugin_utils"
  # Dependencies must exist in parent folder and preferences directory"
  - "cp -fa . ~/.praat-dir/plugin_selection"
  - "cp -fa ../plugin_testsimple ~/.praat-dir/plugin_testsimple"
  - "cp -fa ../plugin_utils ~/.praat-dir/plugin_utils"
  # Run tests
  - "prove -v --exec \"praat-5.4.22 --ansi --pref-dir=~/.praat-dir\""
  # Clean workspace
  - "rm -rf ~/.praat-dir/plugin_utils ../plugin_utils"
  - "rm -rf ~/.praat-dir/plugin_testsimple ../plugin_testsimple"
  - "rm -rf ~/.praat-dir/plugin_selection"
  tags:
    - cpran
  except:
  - tags
Praat 6.0.04:
  script:
  # Clean workspace
  - "rm -rf ~/.praat-dir/plugin{utils,testsimple}"
  - "rm -rf ../plugin_{utils,testsimple}"
  # Clone all dependencies
  - "git clone https://gitlab.com/cpran/plugin_testsimple.git ../plugin_testsimple"
  - "git clone https://gitlab.com/cpran/plugin_utils.git ../plugin_utils"
  # Dependencies must exist in parent folder and preferences directory"
  - "cp -fa . ~/.praat-dir/plugin_selection"
  - "cp -fa ../plugin_testsimple ~/.praat-dir/plugin_testsimple"
  - "cp -fa ../plugin_utils ~/.praat-dir/plugin_utils"
  # Run tests
  - "prove -v --exec \"praat-6.0.04 --ansi --pref-dir=~/.praat-dir --run\""
  # Clean workspace
  - "rm -rf ~/.praat-dir/plugin_utils ../plugin_utils"
  - "rm -rf ~/.praat-dir/plugin_testsimple ../plugin_testsimple"
  - "rm -rf ~/.praat-dir/plugin_selection"
  tags:
    - cpran
  except:
  - tags
